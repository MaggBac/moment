"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var imageElement=_toConsumableArray(document.querySelectorAll("#splashImg")),navBtn=(fetch("https://api.unsplash.com/photos/random/?client_id=3v-pvRqlI8MZrJL7fEkV45Ba2M-Jw-8Q-CBZrBE0-qc&count=3").then(function(t){return t.json()}).then(function(e){return imageElement.map(function(t){t.src=e.urls.regular,imageElement.alt=e.alt_description})}).catch(function(t){return console.log("Error:"+t)}),document.querySelector(".burger-btn")),allNavItems=document.querySelectorAll(".nav-link"),allNavItemsD=document.querySelectorAll(".nav-linkD"),nav=document.querySelector(".div"),navDesktop=document.querySelector(".nav"),textBig=document.querySelector(".text"),footerYear=document.querySelector(".footer-year"),handleNav=function(){nav.classList.toggle("nav-mobile--active"),allNavItems.forEach(function(t){t.addEventListener("click",function(){nav.classList.remove("nav-mobile--active")})}),handleNavUp(),handleNavText()},handleNavUp=function(){navDesktop.classList.toggle("nav-desktop--isactive"),allNavItemsD.forEach(function(t){t.addEventListener("click",function(){navDesktop.classList.toggle("nav-desktop--isactive")})})},handleNavText=function(){textBig.classList.toggle("--active"),textBig.addEventListener("click",function(){textBig.classList.toggle("--active")})},multiStepForm=document.querySelector("[data-multi-step]"),formSteps=_toConsumableArray(multiStepForm.querySelectorAll("[data-step]")),currentStep=formSteps.findIndex(function(t){return t.classList.contains("active")});function showCurrentStep(){formSteps.forEach(function(t,e){t.classList.toggle("active",e===currentStep)})}currentStep<0&&(currentStep=0,showCurrentStep()),multiStepForm.addEventListener("click",function(t){var e;t.target.matches("[data-next]")?e=1:t.target.matches("[data-previous]")&&(e=-1),null!=e&&_toConsumableArray(formSteps[currentStep].querySelectorAll("input")).every(function(t){return t.reportValidity()})&&(currentStep+=e,showCurrentStep())}),formSteps.forEach(function(t){t.addEventListener("animationend",function(t){formSteps[currentStep].classList.remove("hide"),t.target.classList.toggle("hide",!t.target.classList.contains("active"))})});var CurrentYear=function(){var t=(new Date).getFullYear();footerYear.innerHTML=t},tl=(CurrentYear(),navBtn.addEventListener("click",handleNav),gsap.timeline({defaults:{ease:"power1.out"}})),paginationNumbers=(tl.to(".hide-text",{y:"0%",duration:1,stagger:.25}),tl.to(".slider",{y:"-100%",duration:1.5,delay:.5}),tl.to(".intro",{y:"-100%",duration:1}),tl.fromTo("nav",{opacity:0},{opacity:1,duration:1}),tl.fromTo(".big-text",{opacity:0},{opacity:1,duration:1},"-=0.5"),document.getElementById("pagination-numbers")),listItems=_toConsumableArray(document.getElementsByClassName("pagination__item")),nextButton=document.getElementById("next-button"),prevButton=document.getElementById("prev-button"),paginationLimit=4,pageCount=Math.ceil(listItems.length/paginationLimit),currentPage=1,disableButton=function(t){t.classList.add("disabled"),t.setAttribute("disabled",!0)},enableButton=function(t){t.classList.remove("disabled"),t.removeAttribute("disabled")},handlePageButtonsStatus=function(){(1===currentPage?disableButton:enableButton)(prevButton),(pageCount===currentPage?disableButton:enableButton)(nextButton)},handleActivePageNumber=function(){document.querySelectorAll(".pagination-number").forEach(function(t){t.classList.remove("active"),Number(t.getAttribute("page-index"))==currentPage&&t.classList.add("active")})},appendPageNumber=function(t){var e=document.createElement("button");e.className="pagination-number",e.innerHTML=t,e.setAttribute("page-index",t),e.setAttribute("aria-label","Page "+t),paginationNumbers.appendChild(e)},getPaginationNumbers=function(){for(var t=1;t<=pageCount;t++)appendPageNumber(t)},setCurrentPage=function(t){currentPage=t,handleActivePageNumber(),handlePageButtonsStatus();var n=(t-1)*paginationLimit,r=t*paginationLimit;listItems.forEach(function(t,e){t.classList.add("hiddenPage"),n<=e&&e<r&&t.classList.remove("hiddenPage")})};window.addEventListener("load",function(){getPaginationNumbers(),setCurrentPage(1),prevButton.addEventListener("click",function(){setCurrentPage(currentPage-1)}),nextButton.addEventListener("click",function(){setCurrentPage(currentPage+1)}),document.querySelectorAll(".pagination-number").forEach(function(t){var e=Number(t.getAttribute("page-index"));e&&t.addEventListener("click",function(){setCurrentPage(e)})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW1hZ2VFbGVtZW50IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiZGF0YSIsIm1hcCIsImkiLCJzcmMiLCJ1cmxzIiwicmVndWxhciIsImFsdCIsImFsdF9kZXNjcmlwdGlvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInF1ZXJ5U2VsZWN0b3IiLCJhbGxOYXZJdGVtcyIsImFsbE5hdkl0ZW1zRCIsIm5hdiIsInRleHRCaWciLCJoYW5kbGVOYXYiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJmb3JFYWNoIiwidmFsIiwibmF2QnRuIiwicmVtb3ZlIiwiaGFuZGxlTmF2VXAiLCJoYW5kbGVOYXZUZXh0IiwibmF2RGVza3RvcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJtdWx0aVN0ZXBGb3JtIiwiZmluZEluZGV4Iiwic3RlcCIsInNob3dDdXJyZW50U3RlcCIsImZvcm1TdGVwcyIsImluZGV4IiwiY3VycmVudFN0ZXAiLCJpbmNyZW1lbnRvciIsImUiLCJ0YXJnZXQiLCJtYXRjaGVzIiwiaW5wdXQiLCJyZXBvcnRWYWxpZGl0eSIsImNvbnRhaW5zIiwiZ2V0RnVsbFllYXIiLCJmb290ZXJZZWFyIiwidGwiLCJDdXJyZW50WWVhciIsImdzYXAiLCJ0aW1lbGluZSIsImRlZmF1bHRzIiwiZWFzZSIsInBhZ2luYXRpb25OdW1iZXJzIiwidG8iLCJ5IiwiZHVyYXRpb24iLCJzdGFnZ2VyIiwiZGVsYXkiLCJmcm9tVG8iLCJEYXRlIiwib3BhY2l0eSIsInllYXIiLCJsaXN0SXRlbXMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibmV4dEJ1dHRvbiIsImdldEVsZW1lbnRCeUlkIiwicGFnaW5hdGlvbkxpbWl0IiwicGFnZUNvdW50IiwiTWF0aCIsImNlaWwiLCJsZW5ndGgiLCJidXR0b24iLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjdXJyZW50UGFnZSIsImRpc2FibGVCdXR0b24iLCJlbmFibGVCdXR0b24iLCJwcmV2QnV0dG9uIiwiaGFuZGxlQWN0aXZlUGFnZU51bWJlciIsIk51bWJlciIsImdldEF0dHJpYnV0ZSIsImFwcGVuZFBhZ2VOdW1iZXIiLCJwYWdlTnVtYmVyIiwiZ2V0UGFnaW5hdGlvbk51bWJlcnMiLCJoYW5kbGVQYWdlQnV0dG9uc1N0YXR1cyIsInNldEN1cnJlbnRQYWdlIiwicGFnZU51bSIsInByZXZSYW5nZSIsImN1cnJSYW5nZSIsIml0ZW0iLCJwYWdlSW5kZXgiLCJ3aW5kb3ciLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIl0sIm1hcHBpbmdzIjoiKytCQUFBLElBQUlBLGFBQVlDLG1CQUFPQyxTQUFTQyxpQkFBaUIsZUFBN0NILFFBRUpJLE1BQ0MseUdBRUNDLEtBQUssU0FBQ0MsR0FBRCxPQUFjQSxFQUFTQyxTQUM1QkYsS0FBSyxTQUFDRyxHQUFELE9BQ0xSLGFBQWFTLElBQUksU0FBQ0MsR0FDakJBLEVBQUVDLElBQU1ILEVBQUtJLEtBQUtDLFFBQ2xCYixhQUFhYyxJQUFNTixFQUFLTyxvQkFQM0IsTUFVUSxTQUFDQyxHQUFELE9BQVdDLFFBQVFDLElBQUksU0FBV0YsS0FadENoQixTQUFZbUIsY0FBT2pCLGdCQWVqQmtCLFlBQWNsQixTQUFTQyxpQkFBaUIsYUFaN0NrQixhQUFBbkIsU0FBQUMsaUJBQUEsY0FFTW1CLElBQWNoQixTQUFTQyxjQUF2QixRQUNMRixXQUFNRyxTQUFEVyxjQUFBLFFBQUFJLFFBQ0x2QixTQUFBbUIsY0FBd0IsU0FDckJSLFdBQVdDLFNBQUtDLGNBQWxCLGdCQUZJVyxVQUFBLFdBSlBGLElBQUFHLFVBVVFDLE9BQUNWLHNCQVZUSSxZQUFBTyxRQUFBLFNBQUFDLEdBWUFBLEVBQU1DLGlCQUFrQlYsUUFBQUEsV0FDeEJHLElBQU1GLFVBQVdVLE9BQUc1QiwwQkFHcEI2QixjQUNBQyxpQkFHTVIsWUFBWSxXQWFqQlMsV0FaSVIs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RUFBZ0IvRSxTQUFoQitFLGNBQWlCTCxVQW9DdEJZLEVBbkNPL0QsVUFBYyxvQkFvQ3JCK0QsRUFuQ09WLFVBQWF0QyxFQUZyQmdELEVBQUFWLGFBQUEsYUFBQXRDLEdBdUNDZ0QsRUFBV1YsYUFBYSxhQUFjLFFBQVV0QyxHQUVoRGlCLGtCQW5DaUIzQixZQUFPMEQsSUFzQ25CQyxxQkFBdUIsV0FsQzdCLElBQU1DLElBQUFBLEVBQUFBLEVBQUFBLEdBQUFBLFVBQTBCaEYsSUFDL0I2RSxpQkFBZTdFLElBSWRpRixlQUFBLFNBQUFDLEdBb0NEWixZQUFjWSxFQUVkUix5QkFDQU0sMEJBRUEsSUFuQ0NHLEdBQUFELEVBQUEsR0FBQXJCLGdCQVhGdUIsRUFBQUYsRUFBQXJCLGdCQWNBSixVQUFNaUIsUUFBQUEsU0FBQUEsRUFBc0I1QyxHQUMzQnRDLEVBQUFBLFVBQVNDLElBQUFBLGNBQ0RzQixHQUFQbUQsR0FBd0JwQyxFQUF4QnNELEdBb0NDQyxFQW5DS0MsVUFBU2xFLE9BQUd1RCxpQkF3Q3BCWSxPQTFDQy9ELGlCQUFBLE9BQUEsV0FERHVELHVCQTZDQ0UsZUFBZSxHQUVmUixXQXBDTUssaUJBQXNCVSxRQUFBQSxXQUM1QlYsZUFBV1csWUFBWSxLQXVDdkI5QixXQXBDVW5DLGlCQUFjLFFBQXhCLFdBRUF1QixlQUFBQSxZQUFBLEtBR0R2RCxTQUFNdUYsaUJBQXVCLHNCQUF2QkEsUUFBdUIsU0FBQWIsR0FDNUIsSUFBS29CLEVBQVlYLE9BQUliLEVBQVc5RCxhQUFLLGVBRXBDc0YsR0FIRnBCLEVBQUExQyxpQkFBQSxRQUFBLFdBd0NJeUQsZUFBZUsiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgaW1hZ2VFbGVtZW50ID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNzcGxhc2hJbWcnKV07XHJcblxyXG5mZXRjaChcclxuXHQnaHR0cHM6Ly9hcGkudW5zcGxhc2guY29tL3Bob3Rvcy9yYW5kb20vP2NsaWVudF9pZD0zdi1wdlJxbEk4TVpySkw3ZkVrVjQ1QmEyTS1Kdy04US1DQlpyQkUwLXFjJmNvdW50PTMnXHJcbilcclxuXHQudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHQudGhlbigoZGF0YSkgPT5cclxuXHRcdGltYWdlRWxlbWVudC5tYXAoKGkpID0+IHtcclxuXHRcdFx0aS5zcmMgPSBkYXRhLnVybHMucmVndWxhcjtcclxuXHRcdFx0aW1hZ2VFbGVtZW50LmFsdCA9IGRhdGEuYWx0X2Rlc2NyaXB0aW9uO1xyXG5cdFx0fSlcclxuXHQpXHJcblx0LmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coJ0Vycm9yOicgKyBlcnJvcikpO1xyXG5cclxuY29uc3QgbmF2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1idG4nKTtcclxuY29uc3QgYWxsTmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LWxpbmsnKTtcclxuY29uc3QgYWxsTmF2SXRlbXNEID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdi1saW5rRCcpO1xyXG5jb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGl2Jyk7XHJcbmNvbnN0IG5hdkRlc2t0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2Jyk7XHJcbmNvbnN0IHRleHRCaWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGV4dCcpO1xyXG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlci15ZWFyJyk7XHJcblxyXG5jb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcblx0bmF2LmNsYXNzTGlzdC50b2dnbGUoJ25hdi1tb2JpbGUtLWFjdGl2ZScpO1xyXG5cclxuXHRhbGxOYXZJdGVtcy5mb3JFYWNoKCh2YWwpID0+IHtcclxuXHRcdHZhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1tb2JpbGUtLWFjdGl2ZScpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblx0aGFuZGxlTmF2VXAoKTtcclxuXHRoYW5kbGVOYXZUZXh0KCk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVOYXZVcCA9ICgpID0+IHtcclxuXHRuYXZEZXNrdG9wLmNsYXNzTGlzdC50b2dnbGUoJ25hdi1kZXNrdG9wLS1pc2FjdGl2ZScpO1xyXG5cclxuXHRhbGxOYXZJdGVtc0QuZm9yRWFjaCgodmFsKSA9PiB7XHJcblx0XHR2YWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdG5hdkRlc2t0b3AuY2xhc3NMaXN0LnRvZ2dsZSgnbmF2LWRlc2t0b3AtLWlzYWN0aXZlJyk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZU5hdlRleHQgPSAoKSA9PiB7XHJcblx0dGV4dEJpZy5jbGFzc0xpc3QudG9nZ2xlKCctLWFjdGl2ZScpO1xyXG5cdHRleHRCaWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHR0ZXh0QmlnLmNsYXNzTGlzdC50b2dnbGUoJy0tYWN0aXZlJyk7XHJcblx0fSk7XHJcbn07XHJcblxyXG4vL2Zvcm1cclxuXHJcbmNvbnN0IG11bHRpU3RlcEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tdWx0aS1zdGVwXScpO1xyXG5jb25zdCBmb3JtU3RlcHMgPSBbLi4ubXVsdGlTdGVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zdGVwXScpXTtcclxubGV0IGN1cnJlbnRTdGVwID0gZm9ybVN0ZXBzLmZpbmRJbmRleCgoc3RlcCkgPT4ge1xyXG5cdHJldHVybiBzdGVwLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7XHJcbn0pO1xyXG5cclxuaWYgKGN1cnJlbnRTdGVwIDwgMCkge1xyXG5cdGN1cnJlbnRTdGVwID0gMDtcclxuXHRzaG93Q3VycmVudFN0ZXAoKTtcclxufVxyXG5cclxubXVsdGlTdGVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0bGV0IGluY3JlbWVudG9yO1xyXG5cdGlmIChlLnRhcmdldC5tYXRjaGVzKCdbZGF0YS1uZXh0XScpKSB7XHJcblx0XHRpbmNyZW1lbnRvciA9IDE7XHJcblx0fSBlbHNlIGlmIChlLnRhcmdldC5tYXRjaGVzKCdbZGF0YS1wcmV2aW91c10nKSkge1xyXG5cdFx0aW5jcmVtZW50b3IgPSAtMTtcclxuXHR9XHJcblxyXG5cdGlmIChpbmNyZW1lbnRvciA9PSBudWxsKSByZXR1cm47XHJcblxyXG5cdGNvbnN0IGlucHV0cyA9IFsuLi5mb3JtU3RlcHNbY3VycmVudFN0ZXBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JyldO1xyXG5cdGNvbnN0IGFsbFZhbGlkID0gaW5wdXRzLmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQucmVwb3J0VmFsaWRpdHkoKSk7XHJcblx0aWYgKGFsbFZhbGlkKSB7XHJcblx0XHRjdXJyZW50U3RlcCArPSBpbmNyZW1lbnRvcjtcclxuXHRcdHNob3dDdXJyZW50U3RlcCgpO1xyXG5cdH1cclxufSk7XHJcblxyXG5mb3JtU3RlcHMuZm9yRWFjaCgoc3RlcCkgPT4ge1xyXG5cdHN0ZXAuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKGUpID0+IHtcclxuXHRcdGZvcm1TdGVwc1tjdXJyZW50U3RlcF0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpO1xyXG5cdFx0ZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZScsICFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKTtcclxuXHR9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzaG93Q3VycmVudFN0ZXAoKSB7XHJcblx0Zm9ybVN0ZXBzLmZvckVhY2goKHN0ZXAsIGluZGV4KSA9PiB7XHJcblx0XHRzdGVwLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGluZGV4ID09PSBjdXJyZW50U3RlcCk7XHJcblx0fSk7XHJcbn1cclxuXHJcbi8veWVhclxyXG5cclxuY29uc3QgQ3VycmVudFllYXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuXHRmb290ZXJZZWFyLmlubmVySFRNTCA9IHllYXI7XHJcbn07XHJcblxyXG5DdXJyZW50WWVhcigpO1xyXG5uYXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpO1xyXG5cclxuLy9hbmltYXRpb25cclxuXHJcbmNvbnN0IHRsID0gZ3NhcC50aW1lbGluZSh7IGRlZmF1bHRzOiB7IGVhc2U6ICdwb3dlcjEub3V0JyB9IH0pO1xyXG5cclxudGwudG8oJy5oaWRlLXRleHQnLCB7IHk6ICcwJScsIGR1cmF0aW9uOiAxLCBzdGFnZ2VyOiAwLjI1IH0pO1xyXG50bC50bygnLnNsaWRlcicsIHsgeTogJy0xMDAlJywgZHVyYXRpb246IDEuNSwgZGVsYXk6IDAuNSB9KTtcclxudGwudG8oJy5pbnRybycsIHsgeTogJy0xMDAlJywgZHVyYXRpb246IDEgfSk7XHJcbnRsLmZyb21UbygnbmF2JywgeyBvcGFjaXR5OiAwIH0sIHsgb3BhY2l0eTogMSwgZHVyYXRpb246IDEgfSk7XHJcbnRsLmZyb21UbygnLmJpZy10ZXh0JywgeyBvcGFjaXR5OiAwIH0sIHsgb3BhY2l0eTogMSwgZHVyYXRpb246IDEgfSwgJy09MC41Jyk7XHJcblxyXG4vL3BhZ2luYXRpb25cclxuXHJcbmNvbnN0IHBhZ2luYXRpb25OdW1iZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhZ2luYXRpb24tbnVtYmVycycpO1xyXG5jb25zdCBsaXN0SXRlbXMgPSBbLi4uZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGFnaW5hdGlvbl9faXRlbScpXTtcclxuY29uc3QgbmV4dEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXh0LWJ1dHRvbicpO1xyXG5jb25zdCBwcmV2QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXYtYnV0dG9uJyk7XHJcblxyXG5jb25zdCBwYWdpbmF0aW9uTGltaXQgPSA0O1xyXG5jb25zdCBwYWdlQ291bnQgPSBNYXRoLmNlaWwobGlzdEl0ZW1zLmxlbmd0aCAvIHBhZ2luYXRpb25MaW1pdCk7XHJcbmxldCBjdXJyZW50UGFnZSA9IDE7XHJcblxyXG5jb25zdCBkaXNhYmxlQnV0dG9uID0gKGJ1dHRvbikgPT4ge1xyXG5cdGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xyXG5cdGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbn07XHJcblxyXG5jb25zdCBlbmFibGVCdXR0b24gPSAoYnV0dG9uKSA9PiB7XHJcblx0YnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XHJcblx0YnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZVBhZ2VCdXR0b25zU3RhdHVzID0gKCkgPT4ge1xyXG5cdGlmIChjdXJyZW50UGFnZSA9PT0gMSkge1xyXG5cdFx0ZGlzYWJsZUJ1dHRvbihwcmV2QnV0dG9uKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZW5hYmxlQnV0dG9uKHByZXZCdXR0b24pO1xyXG5cdH1cclxuXHJcblx0aWYgKHBhZ2VDb3VudCA9PT0gY3VycmVudFBhZ2UpIHtcclxuXHRcdGRpc2FibGVCdXR0b24obmV4dEJ1dHRvbik7XHJcblx0fSBlbHNlIHtcclxuXHRcdGVuYWJsZUJ1dHRvbihuZXh0QnV0dG9uKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVBY3RpdmVQYWdlTnVtYmVyID0gKCkgPT4ge1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wYWdpbmF0aW9uLW51bWJlcicpLmZvckVhY2goKGJ1dHRvbikgPT4ge1xyXG5cdFx0YnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG5cdFx0Y29uc3QgcGFnZUluZGV4ID0gTnVtYmVyKGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ3BhZ2UtaW5kZXgnKSk7XHJcblx0XHRpZiAocGFnZUluZGV4ID09IGN1cnJlbnRQYWdlKSB7XHJcblx0XHRcdGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGFwcGVuZFBhZ2VOdW1iZXIgPSAoaW5kZXgpID0+IHtcclxuXHRjb25zdCBwYWdlTnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0cGFnZU51bWJlci5jbGFzc05hbWUgPSAncGFnaW5hdGlvbi1udW1iZXInO1xyXG5cdHBhZ2VOdW1iZXIuaW5uZXJIVE1MID0gaW5kZXg7XHJcblx0cGFnZU51bWJlci5zZXRBdHRyaWJ1dGUoJ3BhZ2UtaW5kZXgnLCBpbmRleCk7XHJcblx0cGFnZU51bWJlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnUGFnZSAnICsgaW5kZXgpO1xyXG5cclxuXHRwYWdpbmF0aW9uTnVtYmVycy5hcHBlbmRDaGlsZChwYWdlTnVtYmVyKTtcclxufTtcclxuXHJcbmNvbnN0IGdldFBhZ2luYXRpb25OdW1iZXJzID0gKCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAxOyBpIDw9IHBhZ2VDb3VudDsgaSsrKSB7XHJcblx0XHRhcHBlbmRQYWdlTnVtYmVyKGkpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHNldEN1cnJlbnRQYWdlID0gKHBhZ2VOdW0pID0+IHtcclxuXHRjdXJyZW50UGFnZSA9IHBhZ2VOdW07XHJcblxyXG5cdGhhbmRsZUFjdGl2ZVBhZ2VOdW1iZXIoKTtcclxuXHRoYW5kbGVQYWdlQnV0dG9uc1N0YXR1cygpO1xyXG5cclxuXHRjb25zdCBwcmV2UmFuZ2UgPSAocGFnZU51bSAtIDEpICogcGFnaW5hdGlvbkxpbWl0O1xyXG5cdGNvbnN0IGN1cnJSYW5nZSA9IHBhZ2VOdW0gKiBwYWdpbmF0aW9uTGltaXQ7XHJcblxyXG5cdGxpc3RJdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG5cdFx0aXRlbS5jbGFzc0xpc3QuYWRkKCdoaWRkZW5QYWdlJyk7XHJcblx0XHRpZiAoaW5kZXggPj0gcHJldlJhbmdlICYmIGluZGV4IDwgY3VyclJhbmdlKSB7XHJcblx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuUGFnZScpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59O1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcblx0Z2V0UGFnaW5hdGlvbk51bWJlcnMoKTtcclxuXHRzZXRDdXJyZW50UGFnZSgxKTtcclxuXHJcblx0cHJldkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdHNldEN1cnJlbnRQYWdlKGN1cnJlbnRQYWdlIC0gMSk7XHJcblx0fSk7XHJcblxyXG5cdG5leHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRzZXRDdXJyZW50UGFnZShjdXJyZW50UGFnZSArIDEpO1xyXG5cdH0pO1xyXG5cclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbi1udW1iZXInKS5mb3JFYWNoKChidXR0b24pID0+IHtcclxuXHRcdGNvbnN0IHBhZ2VJbmRleCA9IE51bWJlcihidXR0b24uZ2V0QXR0cmlidXRlKCdwYWdlLWluZGV4JykpO1xyXG5cclxuXHRcdGlmIChwYWdlSW5kZXgpIHtcclxuXHRcdFx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdHNldEN1cnJlbnRQYWdlKHBhZ2VJbmRleCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59KTtcclxuIl19
